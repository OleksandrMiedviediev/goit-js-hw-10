{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  let userSelectedDate;\n\n  flatpickr('#datetime-picker', {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      userSelectedDate = selectedDates[0];\n\n      if (userSelectedDate < new Date()) {\n        iziToast.show('Please choose a date in the future');\n        disableStartButton();\n      } else {\n        enableStartButton();\n      }\n    },\n  });\n\n  function disableStartButton() {\n    const startButton = document.querySelector('[data-start]');\n    if (startButton) {\n      startButton.disabled = true;\n    }\n  }\n\n  function enableStartButton() {\n    const startButton = document.querySelector('[data-start]');\n    if (startButton) {\n      startButton.disabled = false;\n    }\n  }\n\n  document.querySelector('[data-start]').addEventListener('click', function () {\n    startCountdown();\n  });\n\n  function startCountdown() {\n    const startDate = new Date();\n    const endDate = userSelectedDate;\n\n    const updateInterval = setInterval(() => {\n      const currentTime = new Date();\n      const timeDifference = endDate - currentTime;\n\n      if (timeDifference <= 0) {\n        clearInterval(updateInterval);\n        updateTimerDisplay({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n        disableStartButton();\n      } else {\n        const timeRemaining = convertMs(timeDifference);\n        updateTimerDisplay(timeRemaining);\n      }\n    }, 1000);\n  }\n\n  function updateTimerDisplay({ days, hours, minutes, seconds }) {\n    const timerDisplay = document.getElementById('timer');\n    if (timerDisplay) {\n      timerDisplay.textContent = `${addLeadingZero(days)}:${addLeadingZero(\n        hours\n      )}:${addLeadingZero(minutes)}:${addLeadingZero(seconds)}`;\n    }\n  }\n\n  function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n  }\n\n  iziToast.show({\n    title: 'Alert',\n    message: 'Please choose a date in the future',\n    position: 'topRight',\n    timeout: 5000,\n    theme: 'red',\n  });\n});\n"],"names":["addLeadingZero","value","userSelectedDate","flatpickr","selectedDates","iziToast","disableStartButton","enableStartButton","startButton","startCountdown","endDate","updateInterval","timeDifference","updateTimerDisplay","timeRemaining","convertMs","days","hours","minutes","seconds","timerDisplay","ms"],"mappings":"+IAKA,SAASA,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACpC,CAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,IAAIC,EAEJC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAE9BF,EAAmB,IAAI,MACzBG,EAAS,KAAK,oCAAoC,EAClDC,KAEAC,GAEH,CACL,CAAG,EAED,SAASD,GAAqB,CAC5B,MAAME,EAAc,SAAS,cAAc,cAAc,EACrDA,IACFA,EAAY,SAAW,GAE1B,CAED,SAASD,GAAoB,CAC3B,MAAMC,EAAc,SAAS,cAAc,cAAc,EACrDA,IACFA,EAAY,SAAW,GAE1B,CAED,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAAS,UAAY,CAC3EC,GACJ,CAAG,EAED,SAASA,GAAiB,CAExB,MAAMC,EAAUR,EAEVS,EAAiB,YAAY,IAAM,CAEvC,MAAMC,EAAiBF,EADH,IAAI,KAGxB,GAAIE,GAAkB,EACpB,cAAcD,CAAc,EAC5BE,EAAmB,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EAChEP,QACK,CACL,MAAMQ,EAAgBC,EAAUH,CAAc,EAC9CC,EAAmBC,CAAa,CACjC,CACF,EAAE,GAAI,CACR,CAED,SAASD,EAAmB,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC7D,MAAMC,EAAe,SAAS,eAAe,OAAO,EAChDA,IACFA,EAAa,YAAc,GAAGpB,EAAegB,CAAI,CAAC,IAAIhB,EACpDiB,CACR,CAAO,IAAIjB,EAAekB,CAAO,CAAC,IAAIlB,EAAemB,CAAO,CAAC,GAE1D,CAED,SAASJ,EAAUM,EAAI,CAMrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAC1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EACpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EACjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEDd,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,qCACT,SAAU,WACV,QAAS,IACT,MAAO,KACX,CAAG,CACH,CAAC"}